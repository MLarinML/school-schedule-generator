# Тестирование функции "Забыли пароль?"

## Как протестировать функциональность

### 1. Откройте главную страницу
- Перейдите на http://localhost:3000
- Нажмите кнопку "Войти" в правом верхнем углу

### 2. Проверьте кнопку "Забыли пароль?"
- В модальном окне входа найдите кнопку "Забыли пароль?" в правом нижнем углу формы
- Кнопка должна быть синего цвета и при наведении становиться темнее

### 3. Тестирование сброса пароля
- Нажмите на кнопку "Забыли пароль?"
- Модальное окно должно изменить заголовок на "Сброс пароля"
- Должна появиться форма с полем для ввода email
- Введите email и нажмите "Отправить ссылку"

### 4. Проверка возврата к форме входа
- Нажмите кнопку "Назад к входу" в форме сброса пароля
- Модальное окно должно вернуться к форме входа
- Заголовок должен измениться обратно на "Вход в аккаунт"

### 5. Проверка API
- После отправки формы сброса пароля должен отправиться запрос на `/api/auth/request-password-reset`
- Если email существует, должно появиться сообщение об успехе
- Если email не существует, должно появиться сообщение об ошибке

## Ожидаемое поведение

✅ **Кнопка "Забыли пароль?" видна только в форме входа**  
✅ **При клике открывается форма сброса пароля**  
✅ **Заголовок модального окна меняется на "Сброс пароля"**  
✅ **Кнопка "Назад к входу" возвращает к форме входа**  
✅ **API endpoint работает корректно**  
✅ **Показываются соответствующие сообщения об успехе/ошибке**

## Компоненты, участвующие в функциональности

- `components/auth/AuthModal.tsx` - основное модальное окно
- `components/auth/PasswordResetForm.tsx` - форма сброса пароля
- `app/api/auth/request-password-reset/route.ts` - API endpoint
- `app/auth/reset-password/page.tsx` - страница сброса пароля
- `components/auth/ResetPasswordForm.tsx` - форма установки нового пароля

## Технические детали

- Используется состояние `showPasswordReset` для переключения между формами
- Обработчики `handleShowPasswordReset`, `handleBackToLogin`, `handlePasswordResetSuccess`
- Динамический заголовок модального окна
- Интеграция с существующей системой аутентификации
