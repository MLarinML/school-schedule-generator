# Структура проекта "Генератор школьных расписаний"

## Обзор

Проект организован по принципу разделения ответственности и логической группировки файлов для лучшей читаемости и масштабируемости.

## Структура папок

```
project2school/
├── app/                          # Next.js App Router
│   ├── api/                      # API endpoints
│   │   └── auth/                 # Аутентификация API
│   ├── account/                  # Личный кабинет
│   ├── schedule/                 # Расписание (защищенная)
│   ├── subscription/             # Страница подписки
│   ├── layout.tsx                # Корневой layout
│   ├── page.tsx                  # Главная страница
│   └── globals.css               # Глобальные стили
├── components/                    # React компоненты
│   ├── ui/                       # Базовые UI компоненты
│   │   ├── Button.tsx            # Кнопка
│   │   ├── Input.tsx             # Поле ввода
│   │   ├── Modal.tsx             # Модальное окно
│   │   └── index.ts              # Экспорт компонентов
│   ├── layout/                   # Компоненты макета
│   │   ├── Header.tsx            # Заголовок
│   │   ├── Footer.tsx            # Подвал
│   │   └── index.ts              # Экспорт компонентов
│   ├── pages/                    # Компоненты страниц
│   │   ├── Hero.tsx              # Главный экран
│   │   ├── Features.tsx          # Возможности
│   │   ├── Pricing.tsx           # Цены
│   │   ├── FAQ.tsx               # Частые вопросы
│   │   ├── Testimonials.tsx      # Отзывы
│   │   ├── HowItWorks.tsx        # Как это работает
│   │   ├── ProblemSolution.tsx   # Проблема-решение
│   │   ├── Compliance.tsx        # Соответствие
│   │   ├── FinalCTA.tsx          # Финальный призыв
│   │   └── index.ts              # Экспорт компонентов
│   ├── auth/                     # Компоненты аутентификации
│   │   ├── AuthModal.tsx         # Модальное окно входа
│   │   └── index.ts              # Экспорт компонентов
│   ├── admin/                    # Административные компоненты
│   └── index.ts                  # Главный экспорт
├── contexts/                     # React Contexts
│   └── AuthContext.tsx           # Контекст аутентификации
├── lib/                          # Утилиты и бизнес-логика
│   ├── utils/                    # Общие утилиты
│   │   ├── constants.ts          # Константы
│   │   ├── helpers.ts            # Вспомогательные функции
│   │   └── index.ts              # Экспорт утилит
│   ├── auth/                     # Аутентификация
│   │   ├── jwt.ts                # JWT управление
│   │   └── password.ts           # Управление паролями
│   ├── db/                       # База данных
│   │   └── prisma.ts             # Подключение Prisma
│   ├── security/                 # Безопасность
│   │   └── audit.ts              # Аудит безопасности
│   ├── rate-limit/               # Ограничение запросов
│   │   └── rateLimiter.ts        # Rate limiting
│   ├── validation/               # Валидация
│   │   └── auth.ts               # Валидация аутентификации
│   ├── email/                    # Email функциональность
│   │   └── templates.ts          # Шаблоны писем
│   └── index.ts                  # Главный экспорт
├── types/                        # TypeScript типы
│   ├── auth.ts                   # Типы аутентификации
│   └── common.ts                 # Общие типы
├── scripts/                      # Скрипты и утилиты
│   ├── db/                       # Скрипты базы данных
│   │   ├── init-db.ts            # Инициализация БД
│   │   ├── seed.ts               # Заполнение данными
│   │   ├── test-password.ts      # Тест паролей
│   │   └── index.ts              # Экспорт скриптов
│   ├── build/                    # Скрипты сборки
│   └── deploy/                   # Скрипты деплоя
├── tests/                        # Тесты
│   ├── unit/                     # Модульные тесты
│   ├── integration/              # Интеграционные тесты
│   ├── e2e/                      # End-to-end тесты
│   └── fixtures/                 # Тестовые данные
├── prisma/                       # Схема базы данных
│   ├── schema.prisma             # Схема Prisma
│   └── migrations/               # Миграции
├── package.json                  # Зависимости и скрипты
├── tsconfig.json                 # Конфигурация TypeScript
├── tailwind.config.js            # Конфигурация TailwindCSS
├── next.config.js                # Конфигурация Next.js
└── README.md                     # Документация проекта
```

## Принципы организации

### 1. **Разделение ответственности**
- Каждый модуль отвечает за свою область
- UI компоненты отделены от бизнес-логики
- API endpoints сгруппированы по функциональности

### 2. **Логическая группировка**
- Связанные файлы находятся рядом
- Компоненты сгруппированы по назначению
- Утилиты организованы по категориям

### 3. **Масштабируемость**
- Легко добавлять новые компоненты
- Простая навигация по проекту
- Четкие правила импорта/экспорта

### 4. **Переиспользование**
- Базовые UI компоненты
- Общие утилиты и типы
- Централизованные константы

## Импорты

### Компоненты
```typescript
// Импорт UI компонентов
import { Button, Input, Modal } from '../components/ui'

// Импорт компонентов макета
import { Header, Footer } from '../components/layout'

// Импорт компонентов страниц
import { Hero, Features, Pricing } from '../components/pages'

// Импорт компонентов аутентификации
import { AuthModal } from '../components/auth'
```

### Утилиты
```typescript
// Импорт утилит
import { formatDate, isValidEmail } from '../lib/utils/helpers'
import { AUTH_CONSTANTS } from '../lib/utils/constants'

// Импорт аутентификации
import { PasswordManager } from '../lib/auth/password'

// Импорт базы данных
import { prisma } from '../lib/db/prisma'
```

### Типы
```typescript
// Импорт типов
import { User, AuthContextType } from '../types/auth'
import { ApiResponse } from '../types/common'
```

## Преимущества новой структуры

1. **Читаемость** - разработчики быстро понимают, где что находится
2. **Масштабируемость** - легко добавлять новые функции
3. **Переиспользование** - компоненты и утилиты легко найти
4. **Тестирование** - тесты организованы по типам
5. **Разделение ответственности** - каждый модуль отвечает за свою область
6. **Стандартизация** - единообразные правила импорта/экспорта

## Рекомендации по развитию

1. **Добавляйте новые UI компоненты** в `components/ui/`
2. **Создавайте новые страницы** в `components/pages/`
3. **Добавляйте новые утилиты** в соответствующие папки `lib/`
4. **Определяйте новые типы** в `types/`
5. **Следуйте принципу единственной ответственности**
6. **Используйте индексные файлы для экспорта**

